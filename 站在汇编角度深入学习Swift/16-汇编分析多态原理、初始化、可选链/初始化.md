# 初始化

## 初始化器

类、结构体、枚举都可以定义初始化器

+ 类有2种初始化器:指定初始化器(designated initializer)、便捷初始化器(convenience initializer)

``` swift

//  指定初始化器
init(parameters) {
    statements
}

//  便捷初始化器
convenience init(parameters) {
    statements
}

```

+ 每个类至少有一个指定初始化器，指定初始化器是类的主要初始化器
+ 默认初始化器总是类的指定初始化器
+ 类偏向于少量指定初始化器，一个类通常只有一个指定初始化器

+ 初始化器的相互调用规则
	+ 指定初始化器必须从它的直系父类调用指定初始化器
	+ 便捷初始化器必须从相同的类里调用另一个初始化器
	+ 便捷初始化器最终必须调用一个指定初始化器

``` swift

class Size {
    var width: Int
    var height: Int
    //  指定初始化器(主要初始化器)
    init(width: Int, height: Int) {
        self.width = width
        self.height = height
    }
    convenience init(width: Int) {
        self.init(width: width, height: 0)
    }
    convenience init(height: Int) {
        self.init(width: 0, height: height)
    }
    convenience init() {
        self.init(width: 0, height: 0)
    }
}

var s1 = Size()
var s2 = Size(width: 10, height: 20)
var s3 = Size(width: 10)
var s4 = Size(height: 20)

```

``` swift

class Person {
    var age: Int
    init(age: Int) {
        self.age = age
    }
    convenience init() {
        self.init(age: 0)
    }
}

class Student: Person {
    var score: Int
    init(age: Int, score: Int) {
        self.score = score
        
        super.init(age: age)
    }
    
    convenience init() {
        self.init(age: 0, score: 0)
    }
    
    convenience init(score: Int) {
        self.init(age: 0, score: score)
    }
}

```